# ==========================================
# KONFIGURASI DATABASE KHUSUS TESTING (H2)
# File ini akan otomatis dipakai saat 'mvn test' atau di GitHub Actions
# ==========================================

# 1. Gunakan H2 Database (Jalan di Memory/RAM)
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# 2. Beritahu Hibernate untuk menggunakan Dialect H2 (Bukan PostgreSQL)
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# 3. Reset database (Hapus & Buat Ulang Tabel) setiap kali test berjalan
spring.jpa.hibernate.ddl-auto=create-drop

# 4. Opsi Tambahan
spring.jpa.show-sql=true

# 5. PENTING: Matikan inisialisasi SQL bawaan (jika ada script postgres)
spring.sql.init.mode=never